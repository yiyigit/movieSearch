{"ast":null,"code":"var _jsxFileName = \"/Users/yiyizhou/Desktop/NEU/info6250 Web tool/demo/final-project/src/App.js\";\nimport React, { useState, useEffect } from 'react';\nimport Login from './Login';\nimport Recommendation from './Recommendation';\nimport Search from './Search';\nimport errors from './errors';\nimport MovieContext from './context';\nimport { fetchLoginStatus, fetchOMDB } from './service';\nimport './App.css';\n\nfunction App() {\n  const [userState, setUserState] = useState({\n    isLoggedIn: true\n  });\n  const [movieState, setMovieState] = useState({\n    keyword: null\n  });\n\n  const login = username => {\n    setUserState({\n      isLoggedIn: true,\n      username\n    });\n  };\n\n  const logout = () => {\n    setUserState({\n      isLoggedIn: false\n    });\n  };\n\n  const searchOmdb = () => {\n    const OMDB = \"https://www.omdbapi.com/?apikey=c27a2924&s=\";\n    const url = OMDB + movieState.keyword;\n    fetchOMDB(url).then(json => {\n      setMovieState({ ...movieState,\n        imdbID: json.Search[0].imdbID,\n        Title: json.Search[0].Title,\n        PosterUrl: json.Search[0].Poster,\n        Year: json.Search[0].Year\n      });\n    });\n  };\n\n  let content;\n\n  if (!userState.isLoggedIn) {\n    content = /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 45,\n        columnNumber: 16\n      }\n    }, /*#__PURE__*/React.createElement(Login, {\n      onLogin: login,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 46,\n        columnNumber: 17\n      }\n    }), /*#__PURE__*/React.createElement(Recommendation, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 47,\n        columnNumber: 17\n      }\n    }));\n  } else {\n    content = /*#__PURE__*/React.createElement(MovieContext.Provider, {\n      value: [movieState, setMovieState],\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 50,\n        columnNumber: 16\n      }\n    }, /*#__PURE__*/React.createElement(Search, {\n      onSearch: searchOmdb,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 51,\n        columnNumber: 17\n      }\n    }));\n  }\n\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: \"App\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 57,\n      columnNumber: 5\n    }\n  }, content);\n}\n\nexport default App;","map":{"version":3,"sources":["/Users/yiyizhou/Desktop/NEU/info6250 Web tool/demo/final-project/src/App.js"],"names":["React","useState","useEffect","Login","Recommendation","Search","errors","MovieContext","fetchLoginStatus","fetchOMDB","App","userState","setUserState","isLoggedIn","movieState","setMovieState","keyword","login","username","logout","searchOmdb","OMDB","url","then","json","imdbID","Title","PosterUrl","Poster","Year","content"],"mappings":";AAAA,OAAOA,KAAP,IAAeC,QAAf,EAAyBC,SAAzB,QAAyC,OAAzC;AACA,OAAOC,KAAP,MAAkB,SAAlB;AACA,OAAOC,cAAP,MAA2B,kBAA3B;AACA,OAAOC,MAAP,MAAmB,UAAnB;AACA,OAAOC,MAAP,MAAmB,UAAnB;AACA,OAAQC,YAAR,MAA0B,WAA1B;AACA,SAASC,gBAAT,EAA2BC,SAA3B,QAA4C,WAA5C;AAEA,OAAO,WAAP;;AAEA,SAASC,GAAT,GAAe;AACb,QAAM,CAACC,SAAD,EAAYC,YAAZ,IAA4BX,QAAQ,CAAC;AAAEY,IAAAA,UAAU,EAAE;AAAd,GAAD,CAA1C;AACA,QAAM,CAACC,UAAD,EAAaC,aAAb,IAA8Bd,QAAQ,CAAC;AAAEe,IAAAA,OAAO,EAAC;AAAV,GAAD,CAA5C;;AAEA,QAAMC,KAAK,GAAIC,QAAD,IAAc;AAC1BN,IAAAA,YAAY,CAAC;AACXC,MAAAA,UAAU,EAAE,IADD;AAEXK,MAAAA;AAFW,KAAD,CAAZ;AAID,GALD;;AAOA,QAAMC,MAAM,GAAG,MAAM;AACnBP,IAAAA,YAAY,CAAC;AACXC,MAAAA,UAAU,EAAE;AADD,KAAD,CAAZ;AAGD,GAJD;;AAMA,QAAMO,UAAU,GAAG,MAAK;AACtB,UAAMC,IAAI,GAAG,6CAAb;AACA,UAAMC,GAAG,GAAGD,IAAI,GAAGP,UAAU,CAACE,OAA9B;AAEAP,IAAAA,SAAS,CAACa,GAAD,CAAT,CACCC,IADD,CACMC,IAAI,IAAG;AACXT,MAAAA,aAAa,CAAC,EAAE,GAAGD,UAAL;AACZW,QAAAA,MAAM,EAACD,IAAI,CAACnB,MAAL,CAAY,CAAZ,EAAeoB,MADV;AAEZC,QAAAA,KAAK,EAAEF,IAAI,CAACnB,MAAL,CAAY,CAAZ,EAAeqB,KAFV;AAGZC,QAAAA,SAAS,EAACH,IAAI,CAACnB,MAAL,CAAY,CAAZ,EAAeuB,MAHb;AAIZC,QAAAA,IAAI,EAACL,IAAI,CAACnB,MAAL,CAAY,CAAZ,EAAewB;AAJR,OAAD,CAAb;AAMD,KARD;AASD,GAbD;;AAeA,MAAIC,OAAJ;;AACA,MAAI,CAACnB,SAAS,CAACE,UAAf,EAA0B;AACxBiB,IAAAA,OAAO,gBAAI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACC,oBAAC,KAAD;AAAO,MAAA,OAAO,EAAKb,KAAnB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MADD,eAEC,oBAAC,cAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAFD,CAAX;AAID,GALD,MAKM;AACJa,IAAAA,OAAO,gBAAI,oBAAC,YAAD,CAAc,QAAd;AAAuB,MAAA,KAAK,EAAG,CAAChB,UAAD,EAAaC,aAAb,CAA/B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACC,oBAAC,MAAD;AAAQ,MAAA,QAAQ,EAAIK,UAApB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MADD,CAAX;AAID;;AAED,sBACE;AAAK,IAAA,SAAS,EAAC,KAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACGU,OADH,CADF;AAKD;;AAED,eAAepB,GAAf","sourcesContent":["import React, {useState, useEffect} from 'react';\nimport Login from './Login';\nimport Recommendation from './Recommendation';\nimport Search from './Search';\nimport errors from './errors';\nimport  MovieContext from './context';\nimport { fetchLoginStatus, fetchOMDB } from './service';\n\nimport './App.css';\n\nfunction App() {\n  const [userState, setUserState] = useState({ isLoggedIn: true });\n  const [movieState, setMovieState] = useState({ keyword:null});\n\n  const login = (username) => {\n    setUserState({\n      isLoggedIn: true,\n      username\n    });\n  };\n\n  const logout = () => {\n    setUserState({\n      isLoggedIn: false\n    });\n  };\n\n  const searchOmdb = () =>{\n    const OMDB = \"https://www.omdbapi.com/?apikey=c27a2924&s=\"\n    const url = OMDB + movieState.keyword;\n\n    fetchOMDB(url)\n    .then(json =>{\n      setMovieState({ ...movieState, \n        imdbID:json.Search[0].imdbID,\n        Title: json.Search[0].Title,\n        PosterUrl:json.Search[0].Poster,\n        Year:json.Search[0].Year\n      })\n    })\n  };\n\n  let content;\n  if (!userState.isLoggedIn){\n    content = (<div>\n                <Login onLogin = { login} />\n                <Recommendation />\n              </div>)\n  } else{\n    content = (<MovieContext.Provider value= {[movieState, setMovieState]}>\n                <Search onSearch = {searchOmdb} />\n              </MovieContext.Provider>\n            )\n  }\n  \n  return (\n    <div className=\"App\">\n      {content}\n    </div>\n  );\n}\n\nexport default App;\n"]},"metadata":{},"sourceType":"module"}