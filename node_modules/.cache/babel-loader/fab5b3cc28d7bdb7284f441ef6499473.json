{"ast":null,"code":"var _jsxFileName = \"/Users/yiyizhou/Desktop/NEU/info6250 Web tool/demo/final-project/src/Result.jsx\";\nimport React, { useContext, useEffect } from 'react';\nimport MovieContext from './context';\nimport Recommendation from './Recommendation';\nimport { fetchDetail } from './service';\n\nconst Result = () => {\n  const [movieState, setMovieState] = useContext(MovieContext);\n  useEffect(() => {\n    if (movieState.id) {\n      const imgURL = \"https://image.tmdb.org/t/p/w500/\";\n      console.log(\"change result\");\n      getDetail(movieState.id);\n    }\n\n    convertImdbIdtoId(movieState.imdbID).then(json => {\n      const id = json.movie_results[0].id;\n      getDetail(id);\n    });\n  }, [movieState.id]);\n\n  const getDetail = id => {\n    return fetchDetail(id).then(json => {\n      setMovieState({\n        Title: json.title,\n        Year: json.release_date,\n        imdbID: json.imdb_id,\n        id: json.id,\n        overview: json.overview,\n        PosterUrl: imgURL + json.poster_path\n      });\n    });\n  };\n\n  return /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 36,\n      columnNumber: 3\n    }\n  }, /*#__PURE__*/React.createElement(\"p\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 37,\n      columnNumber: 3\n    }\n  }, \" Title: \", movieState.Title, \" \"), /*#__PURE__*/React.createElement(\"p\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 38,\n      columnNumber: 3\n    }\n  }, \" Year: \", movieState.Year, \" \"), /*#__PURE__*/React.createElement(\"img\", {\n    src: movieState.PosterUrl,\n    alt: \"poster\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 39,\n      columnNumber: 3\n    }\n  }), /*#__PURE__*/React.createElement(\"p\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 40,\n      columnNumber: 3\n    }\n  }, \" Overview: \", movieState.overview), /*#__PURE__*/React.createElement(\"label\", {\n    for: \"commet\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 41,\n      columnNumber: 3\n    }\n  }, \"Comments:\"), /*#__PURE__*/React.createElement(\"textarea\", {\n    id: \"comment\",\n    rows: \"4\",\n    cols: \"20\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 42,\n      columnNumber: 3\n    }\n  }), /*#__PURE__*/React.createElement(Recommendation, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 43,\n      columnNumber: 3\n    }\n  }));\n};\n\nexport default Result;","map":{"version":3,"sources":["/Users/yiyizhou/Desktop/NEU/info6250 Web tool/demo/final-project/src/Result.jsx"],"names":["React","useContext","useEffect","MovieContext","Recommendation","fetchDetail","Result","movieState","setMovieState","id","imgURL","console","log","getDetail","convertImdbIdtoId","imdbID","then","json","movie_results","Title","title","Year","release_date","imdb_id","overview","PosterUrl","poster_path"],"mappings":";AAAA,OAAOA,KAAP,IAAeC,UAAf,EAA2BC,SAA3B,QAA2C,OAA3C;AACA,OAAQC,YAAR,MAA0B,WAA1B;AACA,OAAOC,cAAP,MAA2B,kBAA3B;AACA,SAAQC,WAAR,QAA0B,WAA1B;;AAGA,MAAMC,MAAM,GAAG,MAAK;AACnB,QAAM,CAACC,UAAD,EAAaC,aAAb,IAA+BP,UAAU,CAACE,YAAD,CAA/C;AACAD,EAAAA,SAAS,CAAC,MAAI;AACb,QAAGK,UAAU,CAACE,EAAd,EAAiB;AAChB,YAAMC,MAAM,GAAG,kCAAf;AACAC,MAAAA,OAAO,CAACC,GAAR,CAAY,eAAZ;AACAC,MAAAA,SAAS,CAACN,UAAU,CAACE,EAAZ,CAAT;AACA;;AACDK,IAAAA,iBAAiB,CAACP,UAAU,CAACQ,MAAZ,CAAjB,CACCC,IADD,CACOC,IAAD,IAAS;AACb,YAAMR,EAAE,GAAGQ,IAAI,CAACC,aAAL,CAAmB,CAAnB,EAAsBT,EAAjC;AACAI,MAAAA,SAAS,CAACJ,EAAD,CAAT;AACD,KAJD;AAMA,GAZQ,EAYP,CAACF,UAAU,CAACE,EAAZ,CAZO,CAAT;;AAcA,QAAMI,SAAS,GAAIJ,EAAD,IAAO;AACxB,WAAOJ,WAAW,CAACI,EAAD,CAAX,CACLO,IADK,CACAC,IAAI,IAAE;AACXT,MAAAA,aAAa,CAAC;AACbW,QAAAA,KAAK,EAAEF,IAAI,CAACG,KADC;AAEbC,QAAAA,IAAI,EAACJ,IAAI,CAACK,YAFG;AAGbP,QAAAA,MAAM,EAAEE,IAAI,CAACM,OAHA;AAIbd,QAAAA,EAAE,EAAEQ,IAAI,CAACR,EAJI;AAKbe,QAAAA,QAAQ,EAACP,IAAI,CAACO,QALD;AAMbC,QAAAA,SAAS,EAAEf,MAAM,GAAGO,IAAI,CAACS;AANZ,OAAD,CAAb;AAOA,KATK,CAAP;AAUA,GAXD;;AAYA,sBACC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,iBAAYnB,UAAU,CAACY,KAAvB,MADA,eAEA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,gBAAWZ,UAAU,CAACc,IAAtB,MAFA,eAGA;AAAK,IAAA,GAAG,EAAGd,UAAU,CAACkB,SAAtB;AAAiC,IAAA,GAAG,EAAC,QAArC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAHA,eAIA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBAAelB,UAAU,CAACiB,QAA1B,CAJA,eAKA;AAAO,IAAA,GAAG,EAAC,QAAX;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,iBALA,eAMA;AAAU,IAAA,EAAE,EAAC,SAAb;AAAuB,IAAA,IAAI,EAAC,GAA5B;AAAgC,IAAA,IAAI,EAAE,IAAtC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IANA,eAOA,oBAAC,cAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAPA,CADD;AAUA,CAtCD;;AAwCA,eAAelB,MAAf","sourcesContent":["import React, {useContext, useEffect} from 'react';\nimport  MovieContext from './context';\nimport Recommendation from './Recommendation';\nimport {fetchDetail} from './service';\n\n\nconst Result = () =>{\n\tconst [movieState, setMovieState]  = useContext(MovieContext);\n\tuseEffect(()=>{\n\t\tif(movieState.id){\n\t\t\tconst imgURL = \"https://image.tmdb.org/t/p/w500/\";\n\t\t\tconsole.log(\"change result\");\n\t\t\tgetDetail(movieState.id)\n\t\t}\n\t\tconvertImdbIdtoId(movieState.imdbID)\n\t\t.then((json) =>{\n\t\t\t const id = json.movie_results[0].id;\n\t\t\t getDetail(id)\n\t\t})\n\n\t},[movieState.id])\n\t\n\tconst getDetail = (id) =>{\n\t\treturn fetchDetail(id)\n\t\t\t.then(json=>{\n\t\t\t\tsetMovieState({\n\t\t\t\t\tTitle: json.title,\n\t\t\t\t\tYear:json.release_date,\n\t\t\t\t\timdbID: json.imdb_id, \n\t\t\t\t\tid: json.id,\n\t\t\t\t\toverview:json.overview,\n\t\t\t\t\tPosterUrl: imgURL + json.poster_path})\n\t\t\t})\n\t}\n\treturn (\n\t\t<div>\n\t\t<p> Title: {movieState.Title} </p>\n\t\t<p> Year: {movieState.Year} </p>\n\t\t<img src= {movieState.PosterUrl} alt='poster'/> \n\t\t<p>\tOverview: {movieState.overview}</p>\n\t\t<label for=\"commet\">Comments:</label>\n\t\t<textarea id=\"comment\" rows=\"4\" cols =\"20\" ></textarea>\n\t\t<Recommendation />\n\t\t</div>)\n}\n\nexport default Result;"]},"metadata":{},"sourceType":"module"}