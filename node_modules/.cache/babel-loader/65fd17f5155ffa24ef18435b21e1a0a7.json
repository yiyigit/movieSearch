{"ast":null,"code":"import _objectSpread from\"/Users/yiyizhou/Desktop/NEU/info6250 Web tool/demo/final-project/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2\";import _slicedToArray from\"/Users/yiyizhou/Desktop/NEU/info6250 Web tool/demo/final-project/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useState,useEffect,useContext}from'react';import{MovieContext,ErrorContext}from'./context';import errors from\"./errors\";import{fetchTopRated}from'./service';var TopRated=function TopRated(){var _useState=useState([]),_useState2=_slicedToArray(_useState,2),topArray=_useState2[0],setTopArray=_useState2[1];var _useContext=useContext(MovieContext),_useContext2=_slicedToArray(_useContext,2),movieState=_useContext2[0],setMovieState=_useContext2[1];var _useContext3=useContext(ErrorContext),_useContext4=_slicedToArray(_useContext3,1),setError=_useContext4[0];useEffect(function(){fetchTopRated().then(function(json){setTopArray(json.results.slice(0,4));}).catch(function(err){setError(errors[err.message||\"DEFAULT\"]);});},[]);var searchById=function searchById(id){setMovieState(_objectSpread({},movieState,{id:id}));};var imgURL=\"https://image.tmdb.org/t/p/w500/\";var movieArray=topArray.map(function(movie){return/*#__PURE__*/React.createElement(\"li\",{key:topArray.indexOf(movie),className:\"top-movie\"},/*#__PURE__*/React.createElement(\"img\",{src:imgURL+movie.poster_path,className:\"clickable\",onClick:function onClick(){return searchById(movie.id);},alt:\"poster\"}),/*#__PURE__*/React.createElement(\"p\",{className:\"clickable\",onClick:function onClick(){return searchById(movie.id);}},\" \",movie.title,\" \"),/*#__PURE__*/React.createElement(\"p\",{className:\"time\"},\" \",movie.release_date,\" \"),/*#__PURE__*/React.createElement(\"p\",{className:\"rating\"},\" Rating: \",movie.vote_average,\" \"),/*#__PURE__*/React.createElement(\"button\",{onClick:function onClick(){return searchById(movie.id);}},\" details\"));});return/*#__PURE__*/React.createElement(\"div\",null,/*#__PURE__*/React.createElement(\"h2\",null,\" Top Rated Movies: \"),/*#__PURE__*/React.createElement(\"ol\",{className:\"top-rated-movies\"},movieArray));};export default TopRated;","map":{"version":3,"sources":["/Users/yiyizhou/Desktop/NEU/info6250 Web tool/demo/final-project/src/TopRated.jsx"],"names":["React","useState","useEffect","useContext","MovieContext","ErrorContext","errors","fetchTopRated","TopRated","topArray","setTopArray","movieState","setMovieState","setError","then","json","results","slice","catch","err","message","searchById","id","imgURL","movieArray","map","movie","indexOf","poster_path","title","release_date","vote_average"],"mappings":"6WAAA,MAAOA,CAAAA,KAAP,EAAeC,QAAf,CAAyBC,SAAzB,CAAoCC,UAApC,KAAqD,OAArD,CACA,OAASC,YAAT,CAAuBC,YAAvB,KAA2C,WAA3C,CACA,MAAOC,CAAAA,MAAP,KAAmB,UAAnB,CACA,OAAQC,aAAR,KAA4B,WAA5B,CAEA,GAAMC,CAAAA,QAAQ,CAAG,QAAXA,CAAAA,QAAW,EAAK,eACWP,QAAQ,CAAC,EAAD,CADnB,wCACdQ,QADc,eACJC,WADI,+BAEeP,UAAU,CAACC,YAAD,CAFzB,4CAEdO,UAFc,iBAEFC,aAFE,kCAGFT,UAAU,CAACE,YAAD,CAHR,6CAGdQ,QAHc,iBAKrBX,SAAS,CAAC,UAAK,CACdK,aAAa,GACRO,IADL,CACU,SAACC,IAAD,CAAU,CACdL,WAAW,CAACK,IAAI,CAACC,OAAL,CAAaC,KAAb,CAAmB,CAAnB,CAAsB,CAAtB,CAAD,CAAX,CACD,CAHL,EAIKC,KAJL,CAIW,SAACC,GAAD,CAAS,CACdN,QAAQ,CAACP,MAAM,CAACa,GAAG,CAACC,OAAJ,EAAe,SAAhB,CAAP,CAAR,CACD,CANL,EAOA,CARQ,CAQL,EARK,CAAT,CAUA,GAAMC,CAAAA,UAAU,CAAE,QAAZA,CAAAA,UAAY,CAACC,EAAD,CAAM,CACvBV,aAAa,kBAAKD,UAAL,EAAiBW,EAAE,CAACA,EAApB,GAAb,CACA,CAFD,CAGA,GAAMC,CAAAA,MAAM,CAAG,kCAAf,CAEA,GAAMC,CAAAA,UAAU,CAAGf,QAAQ,CAACgB,GAAT,CAAa,SAACC,KAAD,CAAS,CACzC,mBACC,0BAAI,GAAG,CAAEjB,QAAQ,CAACkB,OAAT,CAAiBD,KAAjB,CAAT,CAAkC,SAAS,CAAC,WAA5C,eACC,2BAAK,GAAG,CAAGH,MAAM,CAAGG,KAAK,CAACE,WAA1B,CAAwC,SAAS,CAAC,WAAlD,CAA8D,OAAO,CAAG,yBAAMP,CAAAA,UAAU,CAACK,KAAK,CAACJ,EAAP,CAAhB,EAAxE,CAAoG,GAAG,CAAC,QAAxG,EADD,cAEC,yBAAG,SAAS,CAAC,WAAb,CAAyB,OAAO,CAAG,yBAAMD,CAAAA,UAAU,CAACK,KAAK,CAACJ,EAAP,CAAhB,EAAnC,MAAiEI,KAAK,CAACG,KAAvE,KAFD,cAGC,yBAAG,SAAS,CAAC,MAAb,MAAsBH,KAAK,CAACI,YAA5B,KAHD,cAIC,yBAAG,SAAS,CAAC,QAAb,cAAgCJ,KAAK,CAACK,YAAtC,KAJD,cAKC,8BAAQ,OAAO,CAAG,yBAAMV,CAAAA,UAAU,CAACK,KAAK,CAACJ,EAAP,CAAhB,EAAlB,aALD,CADD,CAQC,CATkB,CAAnB,CAYA,mBACC,4CACC,oDADD,cAEC,0BAAI,SAAS,CAAC,kBAAd,EACCE,UADD,CAFD,CADD,CAOA,CAvCD,CAyCA,cAAehB,CAAAA,QAAf","sourcesContent":["import React, {useState, useEffect, useContext} from 'react';\nimport { MovieContext, ErrorContext } from './context';\nimport errors from \"./errors\";\nimport {fetchTopRated} from './service';\n\nconst TopRated = () =>{\n\tconst [topArray, setTopArray] = useState([]);\n\tconst [movieState, setMovieState] = useContext(MovieContext);\n\tconst [setError] = useContext(ErrorContext);\n\t\n\tuseEffect(() =>{\n\t\tfetchTopRated()\n      .then((json) => {\n        setTopArray(json.results.slice(0, 4));\n      })\n      .catch((err) => {\n        setError(errors[err.message || \"DEFAULT\"]);\n      });\n\t} , [])\n\t\n\tconst searchById =(id)=>{\n\t\tsetMovieState({...movieState, id:id});\n\t}\n\tconst imgURL = \"https://image.tmdb.org/t/p/w500/\";\n\t\n\tconst movieArray = topArray.map((movie)=>{\t\n\treturn (\n\t\t<li key={topArray.indexOf(movie)} className=\"top-movie\">\n\t\t\t<img src= {imgURL + movie.poster_path}  className=\"clickable\" onClick ={() => searchById(movie.id)} alt='poster'/> \n\t\t\t<p className=\"clickable\" onClick ={() => searchById(movie.id)}> {movie.title} </p>\n\t\t\t<p className=\"time\"> {movie.release_date} </p>\n\t\t\t<p className=\"rating\"> Rating: {movie.vote_average} </p>\n\t\t\t<button onClick ={() => searchById(movie.id)}> details</button>\n\t\t</li>)\n\t});\n\n\n\treturn (\n\t\t<div>\n\t\t\t<h2> Top Rated Movies: </h2>\n\t\t\t<ol className=\"top-rated-movies\">\n\t\t\t{movieArray}\n\t\t\t</ol>\n\t\t</div>)\n}\n\nexport default TopRated;"]},"metadata":{},"sourceType":"module"}