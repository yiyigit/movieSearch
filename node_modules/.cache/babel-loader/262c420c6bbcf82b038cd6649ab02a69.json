{"ast":null,"code":"var _jsxFileName = \"/Users/yiyizhou/Desktop/NEU/info6250 Web tool/demo/final-project/src/App.jsx\";\nimport React, { useState, useEffect } from \"react\";\nimport Login from \"./Login\";\nimport Search from \"./Search\";\nimport errors from \"./errors\";\nimport { ErrorContext, MovieContext } from \"./context\";\nimport { fetchLoginStatus, fetchOMDB } from \"./service\";\nimport \"./App.css\";\n\nfunction App() {\n  const [userState, setUserState] = useState({\n    isLoggedIn: true\n  });\n  const [movieState, setMovieState] = useState({});\n  const [error, setError] = useState();\n  useEffect(() => {\n    fetchLoginStatus().then(json => {\n      setUserState({\n        isLoggedIn: true,\n        username: json.data.username\n      });\n    }).catch(err => {\n      setError(errors[err.message || \"DEFAULT\"]);\n    });\n  }, []);\n\n  const login = username => {\n    setUserState({\n      isLoggedIn: true,\n      username\n    });\n  };\n\n  const logout = () => {\n    setUserState({\n      isLoggedIn: false\n    });\n  };\n\n  let content;\n\n  if (!userState.isLoggedIn) {\n    content = /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 44,\n        columnNumber: 7\n      }\n    }, /*#__PURE__*/React.createElement(Login, {\n      onLogin: login,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 45,\n        columnNumber: 9\n      }\n    }));\n  } else {\n    console.log(\"APP.JSX\" + {\n      movieState\n    });\n    content = /*#__PURE__*/React.createElement(MovieContext.Provider, {\n      value: [movieState, setMovieState],\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 51,\n        columnNumber: 7\n      }\n    }, /*#__PURE__*/React.createElement(Search, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 52,\n        columnNumber: 9\n      }\n    }));\n  }\n\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: \"App\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 58,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(\"h1\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 59,\n      columnNumber: 7\n    }\n  }, \"Your Movie Database\"), /*#__PURE__*/React.createElement(\"p\", {\n    className: \"error\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 60,\n      columnNumber: 7\n    }\n  }, error), /*#__PURE__*/React.createElement(ErrorContext.Provider, {\n    value: [error, setError],\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 61,\n      columnNumber: 7\n    }\n  }, content));\n}\n\nexport default App;","map":{"version":3,"sources":["/Users/yiyizhou/Desktop/NEU/info6250 Web tool/demo/final-project/src/App.jsx"],"names":["React","useState","useEffect","Login","Search","errors","ErrorContext","MovieContext","fetchLoginStatus","fetchOMDB","App","userState","setUserState","isLoggedIn","movieState","setMovieState","error","setError","then","json","username","data","catch","err","message","login","logout","content","console","log"],"mappings":";AAAA,OAAOA,KAAP,IAAgBC,QAAhB,EAA0BC,SAA1B,QAA2C,OAA3C;AACA,OAAOC,KAAP,MAAkB,SAAlB;AACA,OAAOC,MAAP,MAAmB,UAAnB;AACA,OAAOC,MAAP,MAAmB,UAAnB;AACA,SAASC,YAAT,EAAuBC,YAAvB,QAA2C,WAA3C;AACA,SAASC,gBAAT,EAA2BC,SAA3B,QAA4C,WAA5C;AAEA,OAAO,WAAP;;AAEA,SAASC,GAAT,GAAe;AACb,QAAM,CAACC,SAAD,EAAYC,YAAZ,IAA4BX,QAAQ,CAAC;AAAEY,IAAAA,UAAU,EAAE;AAAd,GAAD,CAA1C;AACA,QAAM,CAACC,UAAD,EAAaC,aAAb,IAA8Bd,QAAQ,CAAC,EAAD,CAA5C;AACA,QAAM,CAACe,KAAD,EAAQC,QAAR,IAAoBhB,QAAQ,EAAlC;AAEAC,EAAAA,SAAS,CAAC,MAAM;AACdM,IAAAA,gBAAgB,GACbU,IADH,CACSC,IAAD,IAAU;AACdP,MAAAA,YAAY,CAAC;AACXC,QAAAA,UAAU,EAAE,IADD;AAEXO,QAAAA,QAAQ,EAAED,IAAI,CAACE,IAAL,CAAUD;AAFT,OAAD,CAAZ;AAID,KANH,EAOGE,KAPH,CAOUC,GAAD,IAAS;AACdN,MAAAA,QAAQ,CAACZ,MAAM,CAACkB,GAAG,CAACC,OAAJ,IAAe,SAAhB,CAAP,CAAR;AACD,KATH;AAUD,GAXQ,EAWN,EAXM,CAAT;;AAaA,QAAMC,KAAK,GAAIL,QAAD,IAAc;AAC1BR,IAAAA,YAAY,CAAC;AACXC,MAAAA,UAAU,EAAE,IADD;AAEXO,MAAAA;AAFW,KAAD,CAAZ;AAID,GALD;;AAOA,QAAMM,MAAM,GAAG,MAAM;AACnBd,IAAAA,YAAY,CAAC;AACXC,MAAAA,UAAU,EAAE;AADD,KAAD,CAAZ;AAGD,GAJD;;AAMA,MAAIc,OAAJ;;AACA,MAAI,CAAChB,SAAS,CAACE,UAAf,EAA2B;AACzBc,IAAAA,OAAO,gBACL;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACE,oBAAC,KAAD;AAAO,MAAA,OAAO,EAAEF,KAAhB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MADF,CADF;AAKD,GAND,MAMO;AACLG,IAAAA,OAAO,CAACC,GAAR,CAAY,YAAY;AAAEf,MAAAA;AAAF,KAAxB;AACAa,IAAAA,OAAO,gBACL,oBAAC,YAAD,CAAc,QAAd;AAAuB,MAAA,KAAK,EAAE,CAACb,UAAD,EAAaC,aAAb,CAA9B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACE,oBAAC,MAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MADF,CADF;AAKD;;AAED,sBACE;AAAK,IAAA,SAAS,EAAC,KAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,2BADF,eAEE;AAAG,IAAA,SAAS,EAAC,OAAb;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAAsBC,KAAtB,CAFF,eAGE,oBAAC,YAAD,CAAc,QAAd;AAAuB,IAAA,KAAK,EAAE,CAACA,KAAD,EAAQC,QAAR,CAA9B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACGU,OADH,CAHF,CADF;AASD;;AAED,eAAejB,GAAf","sourcesContent":["import React, { useState, useEffect } from \"react\";\nimport Login from \"./Login\";\nimport Search from \"./Search\";\nimport errors from \"./errors\";\nimport { ErrorContext, MovieContext } from \"./context\";\nimport { fetchLoginStatus, fetchOMDB } from \"./service\";\n\nimport \"./App.css\";\n\nfunction App() {\n  const [userState, setUserState] = useState({ isLoggedIn: true });\n  const [movieState, setMovieState] = useState({});\n  const [error, setError] = useState();\n\n  useEffect(() => {\n    fetchLoginStatus()\n      .then((json) => {\n        setUserState({\n          isLoggedIn: true,\n          username: json.data.username,\n        });\n      })\n      .catch((err) => {\n        setError(errors[err.message || \"DEFAULT\"]);\n      });\n  }, []);\n\n  const login = (username) => {\n    setUserState({\n      isLoggedIn: true,\n      username,\n    });\n  };\n\n  const logout = () => {\n    setUserState({\n      isLoggedIn: false,\n    });\n  };\n\n  let content;\n  if (!userState.isLoggedIn) {\n    content = (\n      <div>\n        <Login onLogin={login} />\n      </div>\n    );\n  } else {\n    console.log(\"APP.JSX\" + { movieState });\n    content = (\n      <MovieContext.Provider value={[movieState, setMovieState]}>\n        <Search />\n      </MovieContext.Provider>\n    );\n  }\n\n  return (\n    <div className=\"App\">\n      <h1>Your Movie Database</h1>\n      <p className=\"error\">{error}</p>\n      <ErrorContext.Provider value={[error, setError]}>\n        {content}\n      </ErrorContext.Provider>\n    </div>\n  );\n}\n\nexport default App;\n"]},"metadata":{},"sourceType":"module"}