{"ast":null,"code":"var convertNetworkError=function convertNetworkError(){return Promise.reject({error:\"NETWORK_ERROR\"});};var convertError=function convertError(response){if(response.ok){return response.json();}return response.json().then(function(err){return Promise.reject(err);});};export var fetchTopRated=function fetchTopRated(){var TMDB=\"https://api.themoviedb.org/3/movie/top_rated?api_key=c946c30088ad16d4120dcc22233c5fdc&language=en-US&page=1\";return fetch(TMDB,{method:\"GET\"}).catch(convertNetworkError).then(convertError);};export var convertImdbIdtoId=function convertImdbIdtoId(imdbId){var TMDB=\"https://api.themoviedb.org/3/find/\".concat(imdbId,\"?api_key=c946c30088ad16d4120dcc22233c5fdc&language=en-US&external_source=imdb_id\");return fetch(TMDB,{method:\"GET\"}).catch(convertNetworkError).then(convertError);};export var fetchRecommendation=function fetchRecommendation(id){var TMDB=\"https://api.themoviedb.org/3/movie/\".concat(id,\"/recommendations?api_key=c946c30088ad16d4120dcc22233c5fdc&language=en-US&page=1\");return fetch(TMDB,{method:\"GET\"}).catch(convertNetworkError).then(convertError);};export var fetchDetail=function fetchDetail(id){var TMDB=\"https://api.themoviedb.org/3/movie/\".concat(id,\"?api_key=c946c30088ad16d4120dcc22233c5fdc&language=en-US\");return fetch(TMDB,{method:\"GET\"}).catch(convertNetworkError).then(convertError);};export var fetchOMDB=function fetchOMDB(keyword){var OMDB=\"https://www.omdbapi.com/?apikey=c27a2924&s=\";var url=OMDB+keyword;return fetch(url,{method:\"GET\"}).catch(convertNetworkError).then(convertError);};export var fetchLoginStatus=function fetchLoginStatus(username){return fetch(\"/session\",{method:\"GET\"}).catch(convertNetworkError).then(convertError);};export var fetchLogin=function fetchLogin(username){return fetch(\"/session\",{method:\"POST\",headers:new Headers({\"content-type\":\"application/json\"}),body:JSON.stringify({username:username})}).catch(convertNetworkError).then(convertError);};export var fetchLogout=function fetchLogout(){return fetch(\"/session\",{method:\"DELETE\"}).catch(convertNetworkError).then(function(response){return response.ok;});};export var fetchCommentsFromServer=function fetchCommentsFromServer(id){return fetch(\"/comments/\".concat(id),{method:\"GET\"}).catch(convertNetworkError).then(convertError);};export var sendCommentToServer=function sendCommentToServer(id,comment){return fetch(\"/comments\",{method:\"POST\",headers:{\"Content-Type\":\"application/json\"},body:JSON.stringify({id:id,comment:comment})}).catch(convertNetworkError).then(convertError);};export var updateCommentToServer=function updateCommentToServer(id,comment){return fetch(\"/comments\",{method:\"PUT\",headers:{\"Content-Type\":\"application/json\"},body:JSON.stringify({id:id,comment:comment})}).catch(convertNetworkError).then(convertError);};export var deleteCommentInServer=function deleteCommentInServer(id){return fetch(\"/comments/\".concat(id),{method:\"DELETE\"}).catch(convertNetworkError).then(convertError);};","map":{"version":3,"sources":["/Users/yiyizhou/Desktop/NEU/info6250 Web tool/demo/final-project/src/service.js"],"names":["convertNetworkError","Promise","reject","error","convertError","response","ok","json","then","err","fetchTopRated","TMDB","fetch","method","catch","convertImdbIdtoId","imdbId","fetchRecommendation","id","fetchDetail","fetchOMDB","keyword","OMDB","url","fetchLoginStatus","username","fetchLogin","headers","Headers","body","JSON","stringify","fetchLogout","fetchCommentsFromServer","sendCommentToServer","comment","updateCommentToServer","deleteCommentInServer"],"mappings":"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","sourcesContent":["const convertNetworkError = () => Promise.reject({ error: \"NETWORK_ERROR\" });\n\nconst convertError = (response) => {\n  if (response.ok) {\n    return response.json();\n  }\n  return response.json().then((err) => Promise.reject(err));\n};\n\nexport const fetchTopRated = () => {\n  const TMDB =\n    \"https://api.themoviedb.org/3/movie/top_rated?api_key=c946c30088ad16d4120dcc22233c5fdc&language=en-US&page=1\";\n  return fetch(TMDB, {\n    method: \"GET\",\n  })\n    .catch(convertNetworkError)\n    .then(convertError);\n};\n\nexport const convertImdbIdtoId = (imdbId) => {\n  const TMDB = `https://api.themoviedb.org/3/find/${imdbId}?api_key=c946c30088ad16d4120dcc22233c5fdc&language=en-US&external_source=imdb_id`;\n  return fetch(TMDB, {\n    method: \"GET\",\n  })\n    .catch(convertNetworkError)\n    .then(convertError);\n};\n\nexport const fetchRecommendation = (id) => {\n  const TMDB = `https://api.themoviedb.org/3/movie/${id}/recommendations?api_key=c946c30088ad16d4120dcc22233c5fdc&language=en-US&page=1`;\n  return fetch(TMDB, {\n    method: \"GET\",\n  })\n    .catch(convertNetworkError)\n    .then(convertError);\n};\nexport const fetchDetail = (id) => {\n  const TMDB = `https://api.themoviedb.org/3/movie/${id}?api_key=c946c30088ad16d4120dcc22233c5fdc&language=en-US`;\n  return fetch(TMDB, {\n    method: \"GET\",\n  })\n    .catch(convertNetworkError)\n    .then(convertError);\n};\n\nexport const fetchOMDB = (keyword) => {\n  const OMDB = \"https://www.omdbapi.com/?apikey=c27a2924&s=\";\n  const url = OMDB + keyword;\n  return fetch(url, {\n    method: \"GET\",\n  })\n    .catch(convertNetworkError)\n    .then(convertError);\n};\n\nexport const fetchLoginStatus = (username) => {\n  return fetch(\"/session\", {\n    method: \"GET\",\n  })\n    .catch(convertNetworkError)\n    .then(convertError);\n};\n\nexport const fetchLogin = (username) => {\n  return fetch(\"/session\", {\n    method: \"POST\",\n    headers: new Headers({\n      \"content-type\": \"application/json\",\n    }),\n    body: JSON.stringify({ username }),\n  })\n    .catch(convertNetworkError)\n    .then(convertError);\n};\n\nexport const fetchLogout = () => {\n  return fetch(\"/session\", {\n    method: \"DELETE\",\n  })\n    .catch(convertNetworkError)\n    .then((response) => {\n      return response.ok;\n    });\n};\nexport const fetchCommentsFromServer = (id) => {\n  return fetch(`/comments/${id}`, {\n    method: \"GET\",\n  })\n    .catch(convertNetworkError)\n    .then(convertError);\n};\n\nexport const sendCommentToServer = (id, comment) => {\n  return fetch(\"/comments\", {\n    method: \"POST\",\n    headers: { \"Content-Type\": \"application/json\" },\n    body: JSON.stringify({ id: id, comment: comment }),\n  })\n    .catch(convertNetworkError)\n    .then(convertError);\n};\n\nexport const updateCommentToServer = (id, comment) => {\n  return fetch(\"/comments\", {\n    method: \"PUT\",\n    headers: { \"Content-Type\": \"application/json\" },\n    body: JSON.stringify({\n      id: id,\n      comment: comment,\n    }),\n  })\n    .catch(convertNetworkError)\n    .then(convertError);\n};\n\nexport const deleteCommentInServer = (id) => {\n  return fetch(`/comments/${id}`, {\n    method: \"DELETE\",\n  })\n    .catch(convertNetworkError)\n    .then(convertError);\n};\n"]},"metadata":{},"sourceType":"module"}