{"ast":null,"code":"const convertNetworkError = () => Promise.reject({\n  error: 'NETWORK_ERROR'\n});\n\nconst convertError = response => {\n  if (response.ok) {\n    return response.json();\n  }\n\n  return response.json().then(err => Promise.reject(err));\n};\n\nexport const fetchTopRated = () => {\n  const TMDB = \"https://api.themoviedb.org/3/movie/top_rated?api_key=c946c30088ad16d4120dcc22233c5fdc&language=en-US&page=1\";\n  return fetch(TMDB, {\n    method: \"GET\"\n  }).catch(convertNetworkError).then(convertError);\n};\nexport const convertImdbIdtoId = imdbId => {\n  const TMDB = `https://api.themoviedb.org/3/find/${imdbId}?api_key=c946c30088ad16d4120dcc22233c5fdc&language=en-US&external_source=imdb_id`;\n  return fetch(TMDB, {\n    method: \"GET\"\n  }).catch(convertNetworkError).then(convertError);\n};\nexport const fetchRecommendation = id => {\n  const TMDB = `https://api.themoviedb.org/3/movie/${id}/recommendations?api_key=c946c30088ad16d4120dcc22233c5fdc&language=en-US&page=1`;\n  return fetch(TMDB, {\n    method: \"GET\"\n  }).catch(convertNetworkError).then(convertError);\n};\nexport const fetchDetail = id => {\n  const TMDB = `https://api.themoviedb.org/3/movie/${id}?api_key=c946c30088ad16d4120dcc22233c5fdc&language=en-US`;\n  return fetch(TMDB, {\n    method: \"GET\"\n  }).catch(convertNetworkError).then(convertError);\n};\nexport const fetchOMDB = keyword => {\n  const OMDB = \"https://www.omdbapi.com/?apikey=c27a2924&s=\";\n  const url = OMDB + keyword;\n  return fetch(url, {\n    method: 'GET'\n  }).catch(convertNetworkError).then(convertError);\n};\nexport const fetchLoginStatus = username => {\n  return fetch('/session', {\n    method: 'GET'\n  }).catch(convertNetworkError).then(convertError);\n};\nexport const fetchLogin = username => {\n  return fetch('/session', {\n    method: 'POST',\n    headers: new Headers({\n      'content-type': 'application/json'\n    }),\n    body: JSON.stringify({\n      username\n    })\n  }).catch(convertNetworkError).then(convertError);\n};\nexport const fetchLogout = () => {\n  return fetch('/session', {\n    method: 'DELETE'\n  }).catch(convertNetworkError).then(response => {\n    return response.ok;\n  });\n};\nexport const getCommentsFromServer = () => {\n  return fetch('/comments', {\n    method: \"GET\"\n  }).catch(convertNetworkError).then(convertError);\n};\nexport const sendCommentToServer = formedComment => {\n  return fetch('/comments', {\n    method: 'POST',\n    headers: {\n      'Content-Type': 'application/json'\n    },\n    body: JSON.stringify(formedComment)\n  }).catch(convertNetworkError).then(convertError);\n};\nexport const updateCommentToServer = formedComment => {\n  return fetch(\"/comments\", {\n    method: \"GET\"\n  }).catch(convertNetworkError).then(convertError);\n};","map":{"version":3,"sources":["/Users/yiyizhou/Desktop/NEU/info6250 Web tool/demo/final-project/src/service.js"],"names":["convertNetworkError","Promise","reject","error","convertError","response","ok","json","then","err","fetchTopRated","TMDB","fetch","method","catch","convertImdbIdtoId","imdbId","fetchRecommendation","id","fetchDetail","fetchOMDB","keyword","OMDB","url","fetchLoginStatus","username","fetchLogin","headers","Headers","body","JSON","stringify","fetchLogout","getCommentsFromServer","sendCommentToServer","formedComment","updateCommentToServer"],"mappings":"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","sourcesContent":["const convertNetworkError = () => Promise.reject( { error: 'NETWORK_ERROR' });\n\nconst convertError = (response) =>{\n    if(response.ok){\n      return response.json();\n    }\n    return response.json().then(err => Promise.reject(err));\n};\n\nexport const fetchTopRated = () =>{\n  const TMDB =\"https://api.themoviedb.org/3/movie/top_rated?api_key=c946c30088ad16d4120dcc22233c5fdc&language=en-US&page=1\";\n  return fetch(TMDB, {\n    method:\"GET\"})\n  .catch( convertNetworkError )\n  .then( convertError );\n}\n\nexport const convertImdbIdtoId = (imdbId) =>{\n  const TMDB = `https://api.themoviedb.org/3/find/${imdbId}?api_key=c946c30088ad16d4120dcc22233c5fdc&language=en-US&external_source=imdb_id`;\n  return fetch(TMDB, {\n    method:\"GET\"})\n  .catch( convertNetworkError )\n  .then( convertError )\n}\n\nexport const fetchRecommendation = (id) =>{\n  const TMDB =`https://api.themoviedb.org/3/movie/${id}/recommendations?api_key=c946c30088ad16d4120dcc22233c5fdc&language=en-US&page=1`;\n  return fetch(TMDB, {\n    method:\"GET\"})\n  .catch( convertNetworkError )\n  .then( convertError );\n}\nexport const fetchDetail = (id) =>{\n  const TMDB = `https://api.themoviedb.org/3/movie/${id}?api_key=c946c30088ad16d4120dcc22233c5fdc&language=en-US`;\n  return fetch(TMDB,{\n    method:\"GET\"})\n  .catch( convertNetworkError )\n  .then( convertError );\n}\n\nexport const fetchOMDB = (keyword) =>{\n  const OMDB = \"https://www.omdbapi.com/?apikey=c27a2924&s=\"\n  const url = OMDB + keyword;\n  return fetch(url, {\n    method:'GET'})\n  .catch( convertNetworkError )\n  .then( convertError );\n}\n\nexport const fetchLoginStatus = (username) => {\n  return fetch('/session', {\n    method: 'GET',\n  })\n  .catch( convertNetworkError )\n  .then( convertError );\n};\n\nexport const fetchLogin = (username) => {\n  return fetch('/session', {\n    method: 'POST',\n    headers: new Headers({\n      'content-type': 'application/json',\n    }),\n    body: JSON.stringify({ username }),\n  })\n  .catch( convertNetworkError )\n  .then( convertError );\n};\n\nexport const fetchLogout = () => {\n  return fetch('/session', {\n    method: 'DELETE',\n  })\n  .catch( convertNetworkError)\n  .then( response => {\n    return response.ok;\n  });\n};\nexport  const getCommentsFromServer = () =>{\n  return fetch('/comments',{method:\"GET\"})\n    .catch( convertNetworkError )\n    .then( convertError );\n  };\n\nexport const sendCommentToServer = (formedComment)=>{\n  return  fetch('/comments', {method:'POST', \n        headers:{'Content-Type':'application/json'}, \n        body:JSON.stringify(formedComment)\n      })\n      .catch( convertNetworkError )\n      .then( convertError )\n  };\n\n  export  const updateCommentToServer = (formedComment) => {\n            return fetch(\"/comments\", { method: \"GET\" })\n              .catch(convertNetworkError)\n              .then(convertError);\n          };\n\n\n\n"]},"metadata":{},"sourceType":"module"}