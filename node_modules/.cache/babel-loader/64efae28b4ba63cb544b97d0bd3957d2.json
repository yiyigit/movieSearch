{"ast":null,"code":"import _slicedToArray from\"/Users/yiyizhou/Desktop/NEU/info6250 Web tool/demo/final-project/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useState,useContext}from\"react\";import{fetchLogin}from\"./service\";import errors from\"./errors\";import{ErrorContext}from\"./context\";import spinner from\"./spinner.svg\";var Login=function Login(_ref){var onLogin=_ref.onLogin;var _useState=useState(\"\"),_useState2=_slicedToArray(_useState,2),username=_useState2[0],setUsername=_useState2[1];var _useState3=useState(false),_useState4=_slicedToArray(_useState3,2),isLoading=_useState4[0],setIsLoading=_useState4[1];var _useContext=useContext(ErrorContext),_useContext2=_slicedToArray(_useContext,1),setError=_useContext2[0];var performLogin=function performLogin(e){e.preventDefault();if(!username){setError(errors.USERNAME_REQUIRED);return;}setError(\"\");setIsLoading(true);fetchLogin(username).then(function(userInfo){onLogin(userInfo.username);}).catch(function(err){setError(errors[err.error||\"DEFAULT\"]);setIsLoading(false);});};return/*#__PURE__*/React.createElement(\"div\",{className:\"login\"},/*#__PURE__*/React.createElement(\"form\",{onSubmit:function onSubmit(e){return performLogin(e);}},/*#__PURE__*/React.createElement(\"input\",{onChange:function onChange(e){return setUsername(e.target.value);}}),isLoading?/*#__PURE__*/React.createElement(\"img\",{alt:\"spinner\",src:spinner}):/*#__PURE__*/React.createElement(\"button\",{type:\"submit\",disabled:!username},\"Login\")));};export default Login;","map":{"version":3,"sources":["/Users/yiyizhou/Desktop/NEU/info6250 Web tool/demo/final-project/src/Login.jsx"],"names":["React","useState","useContext","fetchLogin","errors","ErrorContext","Login","onLogin","username","setUsername","isLoading","setIsLoading","setError","performLogin","e","preventDefault","USERNAME_REQUIRED","then","userInfo","catch","err","error","target","value","spinner"],"mappings":"uLAAA,MAAOA,CAAAA,KAAP,EAAgBC,QAAhB,CAA0BC,UAA1B,KAA4C,OAA5C,CACA,OAASC,UAAT,KAA2B,WAA3B,CACA,MAAOC,CAAAA,MAAP,KAAmB,UAAnB,CACA,OAASC,YAAT,KAA6B,WAA7B,C,mCAGA,GAAMC,CAAAA,KAAK,CAAG,QAARA,CAAAA,KAAQ,MAAiB,IAAdC,CAAAA,OAAc,MAAdA,OAAc,eACGN,QAAQ,CAAC,EAAD,CADX,wCACtBO,QADsB,eACZC,WADY,8BAEKR,QAAQ,CAAC,KAAD,CAFb,yCAEtBS,SAFsB,eAEXC,YAFW,+BAGVT,UAAU,CAACG,YAAD,CAHA,4CAGtBO,QAHsB,iBAK7B,GAAMC,CAAAA,YAAY,CAAG,QAAfA,CAAAA,YAAe,CAACC,CAAD,CAAO,CAC1BA,CAAC,CAACC,cAAF,GACA,GAAI,CAACP,QAAL,CAAe,CACbI,QAAQ,CAACR,MAAM,CAACY,iBAAR,CAAR,CACA,OACD,CACDJ,QAAQ,CAAC,EAAD,CAAR,CACAD,YAAY,CAAC,IAAD,CAAZ,CAEAR,UAAU,CAACK,QAAD,CAAV,CACGS,IADH,CACQ,SAACC,QAAD,CAAc,CAClBX,OAAO,CAACW,QAAQ,CAACV,QAAV,CAAP,CACD,CAHH,EAIGW,KAJH,CAIS,SAACC,GAAD,CAAS,CACdR,QAAQ,CAACR,MAAM,CAACgB,GAAG,CAACC,KAAJ,EAAa,SAAd,CAAP,CAAR,CACAV,YAAY,CAAC,KAAD,CAAZ,CACD,CAPH,EAQD,CAjBD,CAmBA,mBACE,2BAAK,SAAS,CAAC,OAAf,eACE,4BAAM,QAAQ,CAAE,kBAACG,CAAD,QAAKD,CAAAA,YAAY,CAACC,CAAD,CAAjB,EAAhB,eACE,6BAAO,QAAQ,CAAE,kBAACA,CAAD,QAAOL,CAAAA,WAAW,CAACK,CAAC,CAACQ,MAAF,CAASC,KAAV,CAAlB,EAAjB,EADF,CAEGb,SAAS,cACR,2BAAK,GAAG,CAAC,SAAT,CAAmB,GAAG,CAAEc,OAAxB,EADQ,cAGR,8BAAQ,IAAI,CAAC,QAAb,CAAsB,QAAQ,CAAE,CAAChB,QAAjC,UALJ,CADF,CADF,CAcD,CAtCD,CAwCA,cAAeF,CAAAA,KAAf","sourcesContent":["import React, { useState, useContext } from \"react\";\nimport { fetchLogin } from \"./service\";\nimport errors from \"./errors\";\nimport { ErrorContext } from \"./context\";\nimport spinner from \"./spinner.svg\";\n\nconst Login = ({ onLogin }) => {\n  const [username, setUsername] = useState(\"\");\n  const [isLoading, setIsLoading] = useState(false);\n  const [setError] = useContext(ErrorContext);\n\n  const performLogin = (e) => {\n    e.preventDefault();\n    if (!username) {\n      setError(errors.USERNAME_REQUIRED);\n      return;\n    }\n    setError(\"\");\n    setIsLoading(true);\n\n    fetchLogin(username)\n      .then((userInfo) => {\n        onLogin(userInfo.username);\n      })\n      .catch((err) => {\n        setError(errors[err.error || \"DEFAULT\"]);\n        setIsLoading(false);\n      });\n  };\n\n  return (\n    <div className=\"login\">\n      <form onSubmit={(e)=>performLogin(e)}>\n        <input onChange={(e) => setUsername(e.target.value)} />\n        {isLoading ? (\n          <img alt=\"spinner\" src={spinner} />\n        ) : (\n          <button type=\"submit\" disabled={!username}>\n            Login\n          </button>\n        )}\n      </form>\n    </div>\n  );\n};\n\nexport default Login;\n"]},"metadata":{},"sourceType":"module"}