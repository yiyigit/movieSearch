{"ast":null,"code":"var _jsxFileName = \"/Users/yiyizhou/Desktop/NEU/info6250 Web tool/demo/final-project/src/App.js\";\nimport React, { useState, useEffect } from 'react';\nimport Login from './Login';\nimport Recommendation from './Recommendation';\nimport Search from './Search';\nimport errors from './errors';\nimport MovieContext from './context';\nimport { fetchLoginStatus, fetchOMDB } from './service';\nimport './App.css';\n\nfunction App() {\n  const [userState, setUserState] = useState({\n    isLoggedIn: true\n  });\n  const [movieState, setMovieState] = useState({\n    imdbID: null,\n    keyword: null,\n    PosterUrl: null\n  });\n\n  const login = username => {\n    setUserState({\n      isLoggedIn: true,\n      username\n    });\n  };\n\n  const logout = () => {\n    setUserState({\n      isLoggedIn: false\n    });\n  };\n\n  const searchOmdb = () => {\n    const OMDB = \"https://www.omdbapi.com/?apikey=c27a2924&s=\";\n    const url = OMDB + movieState.keyword;\n    console.log(url);\n    fetchOMDB(url).then(json => {\n      setMovieState({ ...movieState,\n        imdbID: json.Search[0].imdbID\n      });\n      console.log(movieState);\n    });\n  };\n\n  let content;\n\n  if (!userState.isLoggedIn) {\n    content = /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 43,\n        columnNumber: 16\n      }\n    }, /*#__PURE__*/React.createElement(Login, {\n      onLogin: login,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 44,\n        columnNumber: 17\n      }\n    }), /*#__PURE__*/React.createElement(Recommendation, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 45,\n        columnNumber: 17\n      }\n    }));\n  } else {\n    content = /*#__PURE__*/React.createElement(MovieContext.Provider, {\n      value: [movieState, setMovieState],\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 48,\n        columnNumber: 16\n      }\n    }, /*#__PURE__*/React.createElement(Search, {\n      onSearch: searchOmdb,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 49,\n        columnNumber: 15\n      }\n    }));\n  }\n\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: \"App\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 55,\n      columnNumber: 5\n    }\n  }, content);\n}\n\nexport default App;","map":{"version":3,"sources":["/Users/yiyizhou/Desktop/NEU/info6250 Web tool/demo/final-project/src/App.js"],"names":["React","useState","useEffect","Login","Recommendation","Search","errors","MovieContext","fetchLoginStatus","fetchOMDB","App","userState","setUserState","isLoggedIn","movieState","setMovieState","imdbID","keyword","PosterUrl","login","username","logout","searchOmdb","OMDB","url","console","log","then","json","content"],"mappings":";AAAA,OAAOA,KAAP,IAAeC,QAAf,EAAyBC,SAAzB,QAAyC,OAAzC;AACA,OAAOC,KAAP,MAAkB,SAAlB;AACA,OAAOC,cAAP,MAA2B,kBAA3B;AACA,OAAOC,MAAP,MAAmB,UAAnB;AACA,OAAOC,MAAP,MAAmB,UAAnB;AACA,OAAQC,YAAR,MAA0B,WAA1B;AACA,SAASC,gBAAT,EAA2BC,SAA3B,QAA4C,WAA5C;AAEA,OAAO,WAAP;;AAEA,SAASC,GAAT,GAAe;AACb,QAAM,CAACC,SAAD,EAAYC,YAAZ,IAA4BX,QAAQ,CAAC;AAAEY,IAAAA,UAAU,EAAE;AAAd,GAAD,CAA1C;AACA,QAAM,CAACC,UAAD,EAAaC,aAAb,IAA8Bd,QAAQ,CAAC;AAACe,IAAAA,MAAM,EAAE,IAAT;AAAeC,IAAAA,OAAO,EAAC,IAAvB;AAA6BC,IAAAA,SAAS,EAAE;AAAxC,GAAD,CAA5C;;AAEA,QAAMC,KAAK,GAAIC,QAAD,IAAc;AAC1BR,IAAAA,YAAY,CAAC;AACXC,MAAAA,UAAU,EAAE,IADD;AAEXO,MAAAA;AAFW,KAAD,CAAZ;AAID,GALD;;AAOA,QAAMC,MAAM,GAAG,MAAM;AACnBT,IAAAA,YAAY,CAAC;AACXC,MAAAA,UAAU,EAAE;AADD,KAAD,CAAZ;AAGD,GAJD;;AAMA,QAAMS,UAAU,GAAG,MAAK;AACtB,UAAMC,IAAI,GAAG,6CAAb;AACA,UAAMC,GAAG,GAAGD,IAAI,GAAGT,UAAU,CAACG,OAA9B;AACAQ,IAAAA,OAAO,CAACC,GAAR,CAAYF,GAAZ;AACAf,IAAAA,SAAS,CAACe,GAAD,CAAT,CACCG,IADD,CACMC,IAAI,IAAG;AACXb,MAAAA,aAAa,CAAC,EAAE,GAAGD,UAAL;AACZE,QAAAA,MAAM,EAACY,IAAI,CAACvB,MAAL,CAAY,CAAZ,EAAeW;AADV,OAAD,CAAb;AAGAS,MAAAA,OAAO,CAACC,GAAR,CAAYZ,UAAZ;AACD,KAND;AAOD,GAXD;;AAaA,MAAIe,OAAJ;;AACA,MAAI,CAAClB,SAAS,CAACE,UAAf,EAA0B;AACxBgB,IAAAA,OAAO,gBAAI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACC,oBAAC,KAAD;AAAO,MAAA,OAAO,EAAKV,KAAnB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MADD,eAEC,oBAAC,cAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAFD,CAAX;AAID,GALD,MAKM;AACJU,IAAAA,OAAO,gBAAI,oBAAC,YAAD,CAAc,QAAd;AAAuB,MAAA,KAAK,EAAG,CAACf,UAAD,EAAaC,aAAb,CAA/B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACD,oBAAC,MAAD;AAAQ,MAAA,QAAQ,EAAIO,UAApB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MADC,CAAX;AAID;;AAED,sBACE;AAAK,IAAA,SAAS,EAAC,KAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACGO,OADH,CADF;AAKD;;AAED,eAAenB,GAAf","sourcesContent":["import React, {useState, useEffect} from 'react';\nimport Login from './Login';\nimport Recommendation from './Recommendation';\nimport Search from './Search';\nimport errors from './errors';\nimport  MovieContext from './context';\nimport { fetchLoginStatus, fetchOMDB } from './service';\n\nimport './App.css';\n\nfunction App() {\n  const [userState, setUserState] = useState({ isLoggedIn: true });\n  const [movieState, setMovieState] = useState({imdbID: null, keyword:null, PosterUrl: null});\n\n  const login = (username) => {\n    setUserState({\n      isLoggedIn: true,\n      username\n    });\n  };\n\n  const logout = () => {\n    setUserState({\n      isLoggedIn: false\n    });\n  };\n\n  const searchOmdb = () =>{\n    const OMDB = \"https://www.omdbapi.com/?apikey=c27a2924&s=\"\n    const url = OMDB + movieState.keyword;\n    console.log(url);\n    fetchOMDB(url)\n    .then(json =>{\n      setMovieState({ ...movieState, \n        imdbID:json.Search[0].imdbID\n      })\n      console.log(movieState);\n    })\n  }\n\n  let content;\n  if (!userState.isLoggedIn){\n    content = (<div>\n                <Login onLogin = { login} />\n                <Recommendation />\n              </div>)\n  } else{\n    content = (<MovieContext.Provider value= {[movieState, setMovieState]}>\n              <Search onSearch = {searchOmdb} />\n              </MovieContext.Provider>\n            )\n  }\n  \n  return (\n    <div className=\"App\">\n      {content}\n    </div>\n  );\n}\n\nexport default App;\n"]},"metadata":{},"sourceType":"module"}