{"ast":null,"code":"var _jsxFileName = \"/Users/yiyizhou/Desktop/NEU/info6250 Web tool/demo/final-project/src/App.jsx\";\nimport React, { useState, useEffect } from \"react\";\nimport Login from \"./Login\";\nimport Logout from './Logout';\nimport Search from \"./Search\";\nimport errors from \"./errors\";\nimport { ErrorContext, MovieContext } from \"./context\";\nimport { fetchLoginStatus } from \"./service\";\nimport \"./App.css\";\n\nfunction App() {\n  const [userState, setUserState] = useState({\n    isLoggedIn: false\n  });\n  const [movieState, setMovieState] = useState({});\n  const [error, setError] = useState();\n  useEffect(() => {\n    fetchLoginStatus().then(json => {\n      setUserState({\n        isLoggedIn: true,\n        username: json.username\n      });\n    }).catch(err => {\n      setError(errors[err.error || err || \"DEFAULT\"]);\n    });\n  }, [userState.username]);\n\n  const login = username => {\n    setUserState({\n      isLoggedIn: true,\n      username\n    });\n  };\n\n  const logout = () => {\n    setUserState({\n      isLoggedIn: false\n    });\n  };\n\n  let content;\n\n  if (!userState.isLoggedIn) {\n    content = /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 45,\n        columnNumber: 7\n      }\n    }, /*#__PURE__*/React.createElement(Login, {\n      onLogin: login,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 46,\n        columnNumber: 9\n      }\n    }));\n  } else {\n    content = /*#__PURE__*/React.createElement(MovieContext.Provider, {\n      value: [movieState, setMovieState],\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 51,\n        columnNumber: 7\n      }\n    }, /*#__PURE__*/React.createElement(Search, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 52,\n        columnNumber: 9\n      }\n    }), /*#__PURE__*/React.createElement(Logout, {\n      onLogout: logout,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 53,\n        columnNumber: 9\n      }\n    }));\n  }\n\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: \"App\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 59,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(\"h1\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 60,\n      columnNumber: 7\n    }\n  }, \"Your Movie Database\"), /*#__PURE__*/React.createElement(\"p\", {\n    className: \"error\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 61,\n      columnNumber: 7\n    }\n  }, error), /*#__PURE__*/React.createElement(ErrorContext.Provider, {\n    value: [setError],\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 62,\n      columnNumber: 7\n    }\n  }, content));\n}\n\nexport default App;","map":{"version":3,"sources":["/Users/yiyizhou/Desktop/NEU/info6250 Web tool/demo/final-project/src/App.jsx"],"names":["React","useState","useEffect","Login","Logout","Search","errors","ErrorContext","MovieContext","fetchLoginStatus","App","userState","setUserState","isLoggedIn","movieState","setMovieState","error","setError","then","json","username","catch","err","login","logout","content"],"mappings":";AAAA,OAAOA,KAAP,IAAgBC,QAAhB,EAA0BC,SAA1B,QAA2C,OAA3C;AACA,OAAOC,KAAP,MAAkB,SAAlB;AACA,OAAOC,MAAP,MAAmB,UAAnB;AACA,OAAOC,MAAP,MAAmB,UAAnB;AACA,OAAOC,MAAP,MAAmB,UAAnB;AACA,SAASC,YAAT,EAAuBC,YAAvB,QAA2C,WAA3C;AACA,SAASC,gBAAT,QAAiC,WAAjC;AAEA,OAAO,WAAP;;AAEA,SAASC,GAAT,GAAe;AACb,QAAM,CAACC,SAAD,EAAYC,YAAZ,IAA4BX,QAAQ,CAAC;AAAEY,IAAAA,UAAU,EAAE;AAAd,GAAD,CAA1C;AACA,QAAM,CAACC,UAAD,EAAaC,aAAb,IAA8Bd,QAAQ,CAAC,EAAD,CAA5C;AACA,QAAM,CAACe,KAAD,EAAQC,QAAR,IAAoBhB,QAAQ,EAAlC;AAEAC,EAAAA,SAAS,CAAC,MAAM;AACdO,IAAAA,gBAAgB,GACbS,IADH,CACSC,IAAD,IAAU;AACdP,MAAAA,YAAY,CAAC;AACXC,QAAAA,UAAU,EAAE,IADD;AAEXO,QAAAA,QAAQ,EAAED,IAAI,CAACC;AAFJ,OAAD,CAAZ;AAID,KANH,EAOGC,KAPH,CAOUC,GAAD,IAAS;AACdL,MAAAA,QAAQ,CAACX,MAAM,CAACgB,GAAG,CAACN,KAAJ,IAAaM,GAAb,IAAoB,SAArB,CAAP,CAAR;AACD,KATH;AAUD,GAXQ,EAWN,CAACX,SAAS,CAACS,QAAX,CAXM,CAAT;;AAaA,QAAMG,KAAK,GAAIH,QAAD,IAAc;AAC1BR,IAAAA,YAAY,CAAC;AACXC,MAAAA,UAAU,EAAE,IADD;AAEXO,MAAAA;AAFW,KAAD,CAAZ;AAID,GALD;;AAOA,QAAMI,MAAM,GAAG,MAAM;AACnBZ,IAAAA,YAAY,CAAC;AACXC,MAAAA,UAAU,EAAE;AADD,KAAD,CAAZ;AAGD,GAJD;;AAMA,MAAIY,OAAJ;;AACA,MAAI,CAACd,SAAS,CAACE,UAAf,EAA2B;AACzBY,IAAAA,OAAO,gBACL;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACE,oBAAC,KAAD;AAAO,MAAA,OAAO,EAAEF,KAAhB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MADF,CADF;AAKD,GAND,MAMO;AACLE,IAAAA,OAAO,gBACL,oBAAC,YAAD,CAAc,QAAd;AAAuB,MAAA,KAAK,EAAE,CAACX,UAAD,EAAaC,aAAb,CAA9B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACE,oBAAC,MAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MADF,eAEE,oBAAC,MAAD;AAAQ,MAAA,QAAQ,EAAGS,MAAnB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAFF,CADF;AAMD;;AAED,sBACE;AAAK,IAAA,SAAS,EAAC,KAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,2BADF,eAEE;AAAG,IAAA,SAAS,EAAC,OAAb;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAAsBR,KAAtB,CAFF,eAGE,oBAAC,YAAD,CAAc,QAAd;AAAuB,IAAA,KAAK,EAAE,CAACC,QAAD,CAA9B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACGQ,OADH,CAHF,CADF;AASD;;AAED,eAAef,GAAf","sourcesContent":["import React, { useState, useEffect } from \"react\";\nimport Login from \"./Login\";\nimport Logout from './Logout';\nimport Search from \"./Search\";\nimport errors from \"./errors\";\nimport { ErrorContext, MovieContext } from \"./context\";\nimport { fetchLoginStatus } from \"./service\";\n\nimport \"./App.css\";\n\nfunction App() {\n  const [userState, setUserState] = useState({ isLoggedIn: false });\n  const [movieState, setMovieState] = useState({});\n  const [error, setError] = useState();\n\n  useEffect(() => {\n    fetchLoginStatus()\n      .then((json) => {\n        setUserState({\n          isLoggedIn: true,\n          username: json.username,\n        });\n      })\n      .catch((err) => {\n        setError(errors[err.error || err || \"DEFAULT\"]);\n      });\n  }, [userState.username]);\n\n  const login = (username) => {\n    setUserState({\n      isLoggedIn: true,\n      username,\n    });\n  };\n\n  const logout = () => {\n    setUserState({\n      isLoggedIn: false,\n    });\n  };\n\n  let content;\n  if (!userState.isLoggedIn) {\n    content = (\n      <div>\n        <Login onLogin={login} />\n      </div>\n    );\n  } else {\n    content = (\n      <MovieContext.Provider value={[movieState, setMovieState]}>\n        <Search />\n        <Logout onLogout ={logout} />\n      </MovieContext.Provider>\n    );\n  }\n\n  return (\n    <div className=\"App\">\n      <h1>Your Movie Database</h1>\n      <p className=\"error\">{error}</p>\n      <ErrorContext.Provider value={[setError]}>\n        {content}\n      </ErrorContext.Provider>\n    </div>\n  );\n}\n\nexport default App;\n"]},"metadata":{},"sourceType":"module"}