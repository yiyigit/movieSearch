{"ast":null,"code":"var _jsxFileName = \"/Users/yiyizhou/Desktop/NEU/info6250 Web tool/demo/final-project/src/App.jsx\";\nimport React, { useState, useEffect } from 'react';\nimport Login from './Login';\nimport Search from './Search';\nimport errors from './errors';\nimport { ErrorContext, MovieContext } from './context';\nimport { fetchLoginStatus, fetchOMDB } from './service';\nimport './App.css';\n\nfunction App() {\n  const [userState, setUserState] = useState({\n    isLoggedIn: true\n  });\n  const [movieState, setMovieState] = useState({});\n  const [error, setError] = useState();\n  useEffect(() => {\n    fetchLoginStatus().then(json => {\n      console.log(json.data.theme);\n      setUserState({\n        isLoggedIn: true,\n        username: json.data.username\n      });\n    }).catch(err => {\n      setError(errors[err.message || 'DEFAULT']);\n    });\n  }, []);\n\n  const login = username => {\n    setUserState({\n      isLoggedIn: true,\n      username\n    });\n  };\n\n  const logout = () => {\n    setUserState({\n      isLoggedIn: false\n    });\n  };\n\n  let content;\n\n  if (!userState.isLoggedIn) {\n    content = /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 45,\n        columnNumber: 16\n      }\n    }, /*#__PURE__*/React.createElement(Login, {\n      onLogin: login,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 46,\n        columnNumber: 17\n      }\n    }));\n  } else {\n    console.log(movieState);\n    content = /*#__PURE__*/React.createElement(MovieContext.Provider, {\n      value: [movieState, setMovieState],\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 50,\n        columnNumber: 16\n      }\n    }, /*#__PURE__*/React.createElement(Search, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 51,\n        columnNumber: 17\n      }\n    }));\n  }\n\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: \"App\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 57,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(\"h1\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 58,\n      columnNumber: 7\n    }\n  }, \"Your Movie Database\"), /*#__PURE__*/React.createElement(ErrorContext.Provider, {\n    value: [error, setError],\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 59,\n      columnNumber: 7\n    }\n  }), content);\n}\n\nexport default App;","map":{"version":3,"sources":["/Users/yiyizhou/Desktop/NEU/info6250 Web tool/demo/final-project/src/App.jsx"],"names":["React","useState","useEffect","Login","Search","errors","ErrorContext","MovieContext","fetchLoginStatus","fetchOMDB","App","userState","setUserState","isLoggedIn","movieState","setMovieState","error","setError","then","json","console","log","data","theme","username","catch","err","message","login","logout","content"],"mappings":";AAAA,OAAOA,KAAP,IAAeC,QAAf,EAAyBC,SAAzB,QAAyC,OAAzC;AACA,OAAOC,KAAP,MAAkB,SAAlB;AACA,OAAOC,MAAP,MAAmB,UAAnB;AACA,OAAOC,MAAP,MAAmB,UAAnB;AACA,SAASC,YAAT,EAAuBC,YAAvB,QAA0C,WAA1C;AACA,SAASC,gBAAT,EAA2BC,SAA3B,QAA4C,WAA5C;AAEA,OAAO,WAAP;;AAEA,SAASC,GAAT,GAAe;AACb,QAAM,CAACC,SAAD,EAAYC,YAAZ,IAA4BX,QAAQ,CAAC;AAAEY,IAAAA,UAAU,EAAE;AAAd,GAAD,CAA1C;AACA,QAAM,CAACC,UAAD,EAAaC,aAAb,IAA8Bd,QAAQ,CAAC,EAAD,CAA5C;AACA,QAAM,CAACe,KAAD,EAAQC,QAAR,IAAoBhB,QAAQ,EAAlC;AAEAC,EAAAA,SAAS,CAAC,MAAK;AACdM,IAAAA,gBAAgB,GACdU,IADF,CACQC,IAAI,IAAI;AACbC,MAAAA,OAAO,CAACC,GAAR,CAAYF,IAAI,CAACG,IAAL,CAAUC,KAAtB;AACAX,MAAAA,YAAY,CAAC;AACXC,QAAAA,UAAU,EAAE,IADD;AAEXW,QAAAA,QAAQ,EAAEL,IAAI,CAACG,IAAL,CAAUE;AAFT,OAAD,CAAZ;AAID,KAPF,EAQEC,KARF,CAQSC,GAAD,IAAS;AACdT,MAAAA,QAAQ,CAACZ,MAAM,CAACqB,GAAG,CAACC,OAAJ,IAAe,SAAhB,CAAP,CAAR;AACD,KAVF;AAWA,GAZQ,EAYN,EAZM,CAAT;;AAcA,QAAMC,KAAK,GAAIJ,QAAD,IAAc;AAC1BZ,IAAAA,YAAY,CAAC;AACXC,MAAAA,UAAU,EAAE,IADD;AAEXW,MAAAA;AAFW,KAAD,CAAZ;AAID,GALD;;AAOA,QAAMK,MAAM,GAAG,MAAM;AACnBjB,IAAAA,YAAY,CAAC;AACXC,MAAAA,UAAU,EAAE;AADD,KAAD,CAAZ;AAGD,GAJD;;AAOA,MAAIiB,OAAJ;;AACA,MAAI,CAACnB,SAAS,CAACE,UAAf,EAA0B;AACxBiB,IAAAA,OAAO,gBAAI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACC,oBAAC,KAAD;AAAO,MAAA,OAAO,EAAKF,KAAnB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MADD,CAAX;AAGD,GAJD,MAIM;AACJR,IAAAA,OAAO,CAACC,GAAR,CAAYP,UAAZ;AACAgB,IAAAA,OAAO,gBAAI,oBAAC,YAAD,CAAc,QAAd;AAAuB,MAAA,KAAK,EAAG,CAAChB,UAAD,EAAaC,aAAb,CAA/B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACC,oBAAC,MAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MADD,CAAX;AAID;;AAED,sBACE;AAAK,IAAA,SAAS,EAAC,KAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,2BADF,eAEE,oBAAC,YAAD,CAAc,QAAd;AAAuB,IAAA,KAAK,EAAE,CAACC,KAAD,EAAOC,QAAP,CAA9B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAFF,EAGGa,OAHH,CADF;AAOD;;AAED,eAAepB,GAAf","sourcesContent":["import React, {useState, useEffect} from 'react';\nimport Login from './Login';\nimport Search from './Search';\nimport errors from './errors';\nimport  {ErrorContext, MovieContext} from './context';\nimport { fetchLoginStatus, fetchOMDB } from './service';\n\nimport './App.css';\n\nfunction App() {\n  const [userState, setUserState] = useState({ isLoggedIn: true });\n  const [movieState, setMovieState] = useState({});\n  const [error, setError] = useState()\n  \n  useEffect(() =>{\n  \tfetchLoginStatus()\n    .then( json => {\n      console.log(json.data.theme);\n      setUserState({\n        isLoggedIn: true,\n        username: json.data.username,\n      })\n    })\n    .catch((err) => {\n      setError(errors[err.message || 'DEFAULT']);\n    });\n  }, []);\n    \n  const login = (username) => {\n    setUserState({\n      isLoggedIn: true,\n      username\n    });\n  };\n\n  const logout = () => {\n    setUserState({\n      isLoggedIn: false\n    });\n  };\n\n\n  let content;\n  if (!userState.isLoggedIn){\n    content = (<div>\n                <Login onLogin = { login} />              \n              </div>)\n  } else{\n    console.log(movieState);\n    content = (<MovieContext.Provider value= {[movieState, setMovieState]}>\n                <Search  />\n              </MovieContext.Provider>\n            )\n  }\n  \n  return (\n    <div className=\"App\">\n      <h1>Your Movie Database</h1>\n      <ErrorContext.Provider value={[error,setError]}></ErrorContext.Provider>\n      {content}\n    </div>\n  );\n}\n\nexport default App;\n"]},"metadata":{},"sourceType":"module"}